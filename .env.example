# DrishtiChokepointAgent Environment Variables
# =============================================
# Copy this file to .env and customize as needed.
# Environment variables override config.yaml values.

# ─────────────────────────────────────────────────────────────────────────────
# Stream Connection (DrishtiStream WebSocket)
# ─────────────────────────────────────────────────────────────────────────────

# WebSocket URL of the DrishtiStream service
DRISHTI_STREAM_URL=ws://localhost:8000/ws/stream

# Reconnection delay in seconds (on connection loss)
DRISHTI_RECONNECT_DELAY=5

# ─────────────────────────────────────────────────────────────────────────────
# Perception Backend
# ─────────────────────────────────────────────────────────────────────────────

# Perception backend: "mock" or "google_vision"
DRISHTI_PERCEPTION_BACKEND=mock

# Google Cloud credentials (only if using google_vision backend)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# ─────────────────────────────────────────────────────────────────────────────
# Geometry Configuration
# ─────────────────────────────────────────────────────────────────────────────

# Path to geometry definition JSON file
DRISHTI_GEOMETRY_PATH=./data/geometry/example_stadium_exit.json

# ─────────────────────────────────────────────────────────────────────────────
# Agent Thresholds (override config.yaml)
# ─────────────────────────────────────────────────────────────────────────────

# Density threshold for CRITICAL state (people/m²)
# DRISHTI_DENSITY_CRITICAL=0.7

# Density threshold for BUILDUP state (people/m²)
# DRISHTI_DENSITY_BUILDUP=0.4

# Flow pressure threshold for CRITICAL (inflow/capacity ratio)
# DRISHTI_PRESSURE_CRITICAL=1.0

# Number of frames for hysteresis (prevents oscillation)
# DRISHTI_HYSTERESIS_FRAMES=30

# ─────────────────────────────────────────────────────────────────────────────
# Server Configuration
# ─────────────────────────────────────────────────────────────────────────────

# Port for the agent's HTTP/WebSocket server
DRISHTI_AGENT_PORT=8001

# Cloud Run uses PORT env var automatically
# PORT=8001

# ─────────────────────────────────────────────────────────────────────────────
# Logging
# ─────────────────────────────────────────────────────────────────────────────

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
DRISHTI_LOG_LEVEL=INFO
